define("svgShape/components/svgShape",["lodash","core","skins","utils","santaProps"],function(e,t,o,s,i){"use strict";function r(t,o){var s="";return e.forOwn(o,function(e,t){s+=" "+t+'="'+e+'"'}),"<a"+s+">"+t+"</a>"}var a=o.skinsRenderer,p=function(e,t){return"skins.viewer.svgshape.SvgShapeDefaultSkin"===t?'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 376.654 376.654"><g><polygon points="298.185,264.061 149.092,352.082 0,264.061 0,88.021 149.092,0 298.185,88.021 "/></g></svg>':e||null};return{displayName:"SvgShape",mixins:[t.compMixins.baseCompMixin],statics:{useSantaTypes:!0},propTypes:{id:i.Types.Component.id,structure:i.Types.Component.structure,skin:i.Types.Component.skin,compData:i.Types.Component.compData.isRequired,compProp:i.Types.Component.compProp.isRequired,theme:i.Types.Component.theme,rootNavigationInfo:i.Types.Component.rootNavigationInfo,THEME_DATA:i.Types.Theme.THEME_DATA,svgString:i.Types.VectorImage.svgString.isRequired,styleId:i.Types.Component.styleId,linkRenderInfo:i.Types.Link.linkRenderInfo,serviceTopology:i.Types.ServiceTopology.serviceTopology,setCustomClickOccurred:i.Types.setCustomClickOccurred,isExperimentOpen:i.Types.isExperimentOpen,strokeWidth:i.Types.VectorImage.strokeWidth,renderFixedPosition:i.Types.Component.renderFixedPosition},getSkinProperties:function(){var t=this.props.skin,i={"":{}},n=p(this.props.svgString,t);if(n){var l=this.props.theme,c="",g=o.skinsMap.get("skins.viewer.svgshape.SvgShapeDefaultSkin",this.props.isExperimentOpen),h={},v=this.props.compData;if(v&&v.link){var f=s.linkRenderer.renderLink(v.link,this.props.linkRenderInfo,this.props.rootNavigationInfo);f.tabIndex="-1",n=r(n,f)}l&&(h={css:g.css,params:g.params,paramsDefaults:g.paramsDefaults},c='<style type="text/css">'+a.createSkinCss(h,l.style.properties,this.props.THEME_DATA,this.props.styleId,null,this.props.serviceTopology)+"</style>"),i[""]={"data-strokewidth":this.props.strokeWidth,key:!this.props.compProp.maintainAspectRatio&&this.props.strokeWidth?"stretchWithStroke":"noPoly",dangerouslySetInnerHTML:{__html:c+n||""},tabIndex:"0",role:"image",onKeyDown:function(t){if("Enter"===t.key||" "===t.key){var o=t.target.querySelector("a");e.invoke(o,"click")}}}}return this.updateRootRefDataStyles(i[""]),i},render:function(){var e=this.getSkinProperties();return a.renderSkinHTML(null,e,this.props.styleId,this.props.id,this.props.structure,this.props,this.state)}}}),define("svgShape/components/popupCloseIconButton",["lodash","svgShape/components/svgShape","santaProps","utils"],function(e,t,o,s){"use strict";function i(){this.props.closePopupPage()}var r=e.cloneDeep(t);return r.propTypes=e.defaults({closePopupPage:o.Types.popupPage.close},t.propTypes),r.displayName="PopupCloseIconButton",r.getSkinProperties=function(){var e=t.getSkinProperties.apply(this,arguments);return e[""].onClick=i.bind(this),e[""].style.cursor="pointer",e[""].role="button",e[""].onKeyDown=s.accessibility.keyboardInteractions.activateBySpaceOrEnterButton,e[""].tabIndex="0",e[""].title="Back to site",e[""]["aria-label"]="Back to site",e},r}),define("svgShape/components/vectorImageFactory",["react","lodash","core","santaProps"],function(e,t,o,s){"use strict";function i(o){var s;return t.isEmpty(o)?s={parentConst:e.DOM.div}:(s=o).style={cursor:"pointer"},s}var r=["VectorImageArt","VectorImageShape"];return{createVectorImage:function(e){if(!t.includes(r,t.get(e,"displayName")))throw new Error("displayName must be provided and supported by the factory");return{displayName:e.displayName,mixins:[o.compMixins.skinBasedComp],statics:{useSantaTypes:!0},propTypes:{svgString:s.Types.VectorImage.svgString.isRequired,svgType:s.Types.VectorImage.svgType,svgAspectRatio:s.Types.VectorImage.svgAspectRatio.isRequired,onStageSvgAspectRatio:s.Types.VectorImage.onStageSvgAspectRatio.isRequired,link:s.Types.VectorImage.link,compData:s.Types.Component.compData,compProp:s.Types.Component.compProp,dimensions:s.Types.Component.dimensions,svgId:s.Types.Component.styleParam("svgId"),strokeWidth:s.Types.VectorImage.strokeWidth},getInitialState:function(){return{fit:!1}},getSkinProperties:function(){return{"":{key:this.props.compData.skin,"data-strokewidth":this.props.strokeWidth,"data-svg-id":this.props.svgId,"data-fitting-type":this.state.fit?"fit":"stretch",style:this.props.style},link:i(this.props.link),svg:{key:!this.props.compProp.maintainAspectRatio&&this.props.strokeWidth?"stretchWithStroke":"noPoly",dangerouslySetInnerHTML:{__html:this.props.svgString}}}}}}}}),define("svgShape/skins/skins.json",[],function(){"use strict";var e={};return e["skins.viewer.svgshape.SvgShapeDefaultSkin"]={react:[],params:{fillcolor:"COLOR","alpha-fillcolor":"ALPHA",stroke:"COLOR_ALPHA",strokewidth:"SIZE"},paramsDefaults:{fillcolor:"color_11","alpha-fillcolor":"1",stroke:"color_15",strokewidth:"1px"},css:{"% svg":"width:100%;height:100%;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;fill:[fillcolor];fill-opacity:[alpha-fillcolor];stroke:[stroke];stroke-width:[strokewidth];","% svg *":"vector-effect:non-scaling-stroke;","% a":"display:block;height:100%;"}},e["skins.viewer.VectorImageColorSkin"]={react:[["div","svg",[],{}],["a","link",[],{}]],params:{opacity:"ALPHA",fillcolor1:"COLOR",fillcolor2:"COLOR",fillcolor3:"COLOR",fillcolor4:"COLOR",fillcolor5:"COLOR",fillcolor6:"COLOR",fillcolor7:"COLOR",fillcolor8:"COLOR"},paramsDefaults:{opacity:"1",fillcolor1:"#3D9BE9",fillcolor2:"#ffff00",fillcolor3:"#ff00ff",fillcolor4:"#00ffff",fillcolor5:"#ff0000",fillcolor6:"#00ff00",fillcolor7:"#0000ff",fillcolor8:"#ED1566"},css:{"%link,%svg":"position:absolute;top:0;right:0;bottom:0;left:0;","% svg":"position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;margin:auto;opacity:[opacity];","% svg *":"vector-effect:non-scaling-stroke;",'% svg [data-color="1"]':"fill:[fillcolor1];",'% svg [data-color="2"]':"fill:[fillcolor2];",'% svg [data-color="3"]':"fill:[fillcolor3];",'% svg [data-color="4"]':"fill:[fillcolor4];",'% svg [data-color="5"]':"fill:[fillcolor5];",'% svg [data-color="6"]':"fill:[fillcolor6];",'% svg [data-color="7"]':"fill:[fillcolor7];",'% svg [data-color="8"]':"fill:[fillcolor8];"}},e["skins.viewer.VectorImageShapeSkin"]={react:[["div","svg",[],{}],["a","link",[],{}]],params:{fillcolor:"COLOR","alpha-fillcolor":"ALPHA",stroke:"COLOR_ALPHA",strokewidth:"SIZE"},paramsDefaults:{fillcolor:"#3D9BE9","alpha-fillcolor":"1",stroke:"#ED1566",strokewidth:"1"},css:{"%link,%svg":"position:absolute;top:0;right:0;bottom:0;left:0;","% svg":"position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;margin:auto;fill:[fillcolor];fill-opacity:[alpha-fillcolor];stroke:[stroke];stroke-width:[strokewidth];","% svg *":"vector-effect:non-scaling-stroke;"}},e["skins.viewer.VectorImageTintSkin"]={react:[["div","svg",[],{}],["a","link",[],{}]],params:{opacity:"ALPHA",fillcolor:"COLOR"},paramsDefaults:{opacity:"1",fillcolor:"#3D9BE9"},css:{"%link,%svg":"position:absolute;top:0;right:0;bottom:0;left:0;","% svg":"position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;margin:auto;opacity:[opacity];fill:[fillcolor];","% svg *":"vector-effect:non-scaling-stroke;"}},e}),define("svgShape/util/svgShapeDataRequirementsChecker",["core","lodash","utils"],function(e,t,o){"use strict";function s(e,o,s){return t(s).without("skins.viewer.svgshape.SvgShapeDefaultSkin").map(t.partial(a.createSvgFetchRequest,e,o,t)).compact().value()}function i(e,t){return s(e.serviceTopology.mediaRootUrl,e,t.skins)}var r=e.dataRequirementsChecker,a=o.svg;return r.registerCheckerForCompType("wysiwyg.viewer.components.svgshape.SvgShape",i),r.registerCheckerForCompType("wysiwyg.viewer.components.PopupCloseIconButton",i),{requirementChecker:s,DEFAULT_SHAPE:"<svg><g></g></svg>",SVG_ROOT:"svgShapes"}}),define("svgShape/util/vectorImageDataRequirementsChecker",["lodash","core","utils"],function(e,t,o){"use strict";function s(t,o){return e.compact([r.createSvgFetchRequest(t.serviceTopology.mediaRootUrl,t,e.get(o,["data","svgId"],e.get(o,["style","style","properties","svgId"])))])}var i=t.dataRequirementsChecker,r=o.svg;i.registerCheckerForCompType("wysiwyg.viewer.components.VectorImageShape",s),i.registerCheckerForCompType("wysiwyg.viewer.components.VectorImageArt",s)}),define("svgShape",["core","svgShape/components/popupCloseIconButton","svgShape/components/svgShape","svgShape/components/vectorImageFactory","skins","svgShape/skins/skins.json","svgShape/util/svgShapeDataRequirementsChecker","svgShape/util/vectorImageDataRequirementsChecker"],function(e,t,o,s,i,r){"use strict";var a=s.createVectorImage({displayName:"VectorImageShape"}),p=s.createVectorImage({displayName:"VectorImageArt"});return e.compRegistrar.register("wysiwyg.viewer.components.svgshape.SvgShape",o,!0).register("wysiwyg.viewer.components.VectorImageShape",a,!0).register("wysiwyg.viewer.components.VectorImageArt",p,!0).register("wysiwyg.viewer.components.PopupCloseIconButton",t,!0),i.skinsMap.addBatch(r),{popupCloseIconButton:t,svgShape:o,vectorImageShape:a,vectorImageArt:p}});
//# sourceMappingURL=svgShape.min.js.map
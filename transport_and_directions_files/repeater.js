define("repeater/santaTypes/repeaterSantaTypes",["lodash","react","santaProps"],function(e,t,r){"use strict";return{setDisplayedOnlyCompsTemplateId:r.createGlobalSantaType(t.PropTypes.func,function(e){var t=e.siteAPI.getDisplayedDAL(),r=e.siteAPI.getPointers();return function(e,n){if(n){var a=r.displayedOnlyComponents.getComponentTemplateId(e);t.set(a,n)}}},"repeaterTypes_setDisplayedOnlyCompsTemplateId"),clearDisplayedOnlyCompsTemplateId:r.createGlobalSantaType(t.PropTypes.func,function(e){var t=e.siteAPI.getDisplayedDAL(),r=e.siteAPI.getPointers();return function(e){if(t.isExist(r.displayedOnlyComponents.getComponentTemplateId(e))){var n=r.displayedOnlyComponents.getComponentTemplateId(e);t.remove(n)}}},"repeaterTypes_clearDisplayedOnlyCompsTemplateId")}}),define("repeater/components/repeater",["lodash","react","santaProps","containerCommon","repeater/santaTypes/repeaterSantaTypes"],function(e,t,r,n,a){"use strict";function i(e){return t.Children.map(e,function(e){return t.createElement("li",{key:e.props.id},e)})}return{displayName:"Repeater",mixins:[n.mixins.containerMixin],statics:{useSantaTypes:!0},propTypes:{id:r.Types.Component.id.isRequired,rootId:r.Types.Component.rootId.isRequired,compData:r.Types.Component.compData.isRequired,setDisplayedOnlyCompsTemplateId:a.setDisplayedOnlyCompsTemplateId.isRequired,clearDisplayedOnlyCompsTemplateId:a.clearDisplayedOnlyCompsTemplateId.isRequired},componentWillMount:function(){this.props.setDisplayedOnlyCompsTemplateId(this.props.id,this.props.compData.items[0])},componentWillUnmount:function(){this.props.clearDisplayedOnlyCompsTemplateId(this.props.id)},getSkinProperties:function(){return{inlineContent:{parentConst:t.DOM.ul,children:i(this.props.children)}}}}}),define("repeater/layouters/repeaterLayouter",["lodash","coreUtils"],function(e,t){"use strict";function r(e,t,r,n){switch(e){case s.LEFT:return 0;case s.RIGHT:return t;case s.CENTER:return t/2;case s.JUSTIFY:return t/(n>1?n-1:1)*r}}function n(e,t,n,a){return e?r(e,t,n,a):0}function a(e,t,r){return e!==s.JUSTIFY?r*t:0}function i(e,t,r){return e<t?1:Math.floor((e-t)/(t+r))+1}var s=t.constants.COMP_LAYOUT_OPTIONS.REPEATER.ALIGNMENTS,o={VerticalLayoutProperties:function(t,r,n,a,i,s){var o=a||r.get(n[0]);e(n).sortBy(function(e){return r.get(t.getInnerPointer(e,["y"]))}).reduce(function(t,n){var a=e.defaults({y:t},o);return r.set(n,a),t+a.height+s.gap},0)},CardsLayoutProperties:function(t,r,o,p,l,u,c){var d=p||r.get(o[0]),m=t.getInnerPointer(l,["layout"]),y=r.get(m),f=y.width,g=u.alignment!==s.JUSTIFY?u.gap.horizontal:0,T=u.gap.vertical;c&&(f=c.width);var h=i(f,d.width,g),I=Math.min(h,o.length),C=f-g*(I-1)-d.width*I;if(e.transform(o,function(t,i,s){var l=s%h;if(s>=h){var c=T+(e.get(p,"height")||r.get(o[s-h]).height);t[l]+=c}var m=n(u.alignment,C,l,I),y=a(u.alignment,l,g),f={y:t[l],x:l*d.width+m+y};r.merge(i,e.defaults(f,p))},e.fill(Array(h),0)),f<d.width){var P=e.defaults({width:Math.max(f,d.width)},y);r.set(m,P)}}};return{setLayout:function(t,r,n,a,i){var s=r.get(t.getInnerPointer(n,["propertyQuery"])),p=r.get(t.data.getPropertyItem(s,t.components.getPageOfComponent(n).id)),l=t.components.getChildren(n);if(!e.isEmpty(l)){var u=e.map(l,function(e){return t.getInnerPointer(e,["layout"])});o[p.type](t,r,u,a,n,p,i)}}}}),define("repeater/utils/repeaterStructurePlugin",["lodash","coreUtils"],function(e,t){"use strict";return function(r,n,a){var i=n(r),s=r.components[0];if(!s)return r;var o=e.reduce(i.dataItem.items,function(e,r){return e.concat(t.displayedOnlyStructureUtil.getUniqueStructure(s,r,a))},[]);return e.defaults({components:o},r)}}),define("repeater",["siteUtils","repeater/components/repeater","core","repeater/layouters/repeaterLayouter","repeater/utils/repeaterStructurePlugin"],function(e,t,r,n,a){"use strict";var i="wysiwyg.viewer.components.Repeater";e.jsonUpdaterRegistrar.registerPlugin(i,a),e.jsonUpdaterRegistrar.registerLayouterComp(i,n),r.compRegistrar.register(i,t,!0)});
//# sourceMappingURL=repeater.min.js.map